<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.ComboBox?>
<?import javafx.scene.control.DatePicker?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.ProgressIndicator?>
<?import javafx.scene.control.ScrollPane?>
<?import javafx.scene.control.Separator?>
<?import javafx.scene.control.TableColumn?>
<?import javafx.scene.control.TableView?>
<?import javafx.scene.control.TextArea?>
<?import javafx.scene.control.TextField?>
<?import javafx.scene.control.TitledPane?>
<?import javafx.scene.image.ImageView?>
<?import javafx.scene.layout.BorderPane?>
<?import javafx.scene.layout.ColumnConstraints?>
<?import javafx.scene.layout.GridPane?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.Region?>
<?import javafx.scene.layout.RowConstraints?>
<?import javafx.scene.layout.VBox?>

<BorderPane prefHeight="800.0" prefWidth="1200.0" styleClass="main-container"
            stylesheets="@../../css/main.css,@../../css/forms.css,@../../css/buttons.css,@../../css/layouts.css,@../../css/tables.css,@../../css/financial-report.css"
            xmlns="http://javafx.com/javafx/24.0.1"
            xmlns:fx="http://javafx.com/fxml/1"
            fx:controller="org.example.oop.Control.Inventory.SearchInventoryController">

    <!-- TOP: Header & Filters -->
    <top>
        <VBox>
            <!-- Header -->
            <HBox alignment="CENTER_LEFT" spacing="16.0" styleClass="financial-header">
                <padding>
                    <Insets bottom="16.0" left="24.0" right="24.0" top="16.0" />
                </padding>
                <Label styleClass="page-title" text="TÃŒM KIáº¾M VÃ€ LÆ¯á»¢C XEM KHO" />
                <Region HBox.hgrow="ALWAYS" />
                <Label fx:id="countLabel" styleClass="form-label" text="0 sáº£n pháº©m" />
            </HBox>

            <Separator />

            <!-- Filters Row -->
            <HBox alignment="CENTER_LEFT" spacing="12.0">
                <padding>
                    <Insets bottom="12.0" left="24.0" right="24.0" top="12.0" />
                </padding>
                <TextField fx:id="searchTextField" prefWidth="220.0" promptText="TÃ¬m kiáº¿m..." styleClass="text-field" />
                <ComboBox fx:id="categoryBox" prefWidth="150.0" promptText="Danh má»¥c" styleClass="combo-rounded" />
                <ComboBox fx:id="statusBox" prefWidth="150.0" promptText="Tráº¡ng thÃ¡i" styleClass="combo-rounded" />
                <DatePicker fx:id="lastUpdatedPicker" prefWidth="170.0" promptText="Cáº­p nháº­t láº§n cuá»‘i" />

                <Region HBox.hgrow="ALWAYS" />

                <Button fx:id="searchButton" onAction="#OnClickSearchButton" styleClass="btn-search" text="ðŸ” TÃ¬m kiáº¿m" />
                <Button fx:id="resetButton" onAction="#OnClickResetButton" styleClass="btn-secondary" text="ðŸ”„ LÃ m má»›i" />
                <Button fx:id="exportButton" onAction="#OnClickExportButton" styleClass="export-button" text="ðŸ“Š Export" />
            </HBox>
        </VBox>
    </top>

    <center>
        <TableView fx:id="inventoryTable" styleClass="financial-table" BorderPane.alignment="CENTER">
            <columns>
                <TableColumn fx:id="idColumn" prefWidth="55" sortable="true" text="ID" />
                <TableColumn fx:id="nameColumn" prefWidth="151" sortable="true" text="TÃªn sáº£n pháº©m" />
                <TableColumn fx:id="skuColumn" prefWidth="117" sortable="true" text="SKU" />
                <TableColumn fx:id="categoryColumn" prefWidth="102" sortable="true" text="Danh má»¥c" />
                <TableColumn fx:id="statusColumn" prefWidth="98" sortable="true" text="Tráº¡ng thÃ¡i" />
                <TableColumn fx:id="quantityColumn" prefWidth="101" sortable="true" text="Sá»‘ lÆ°á»£ng" />
                <TableColumn fx:id="unitColumn" prefWidth="74" sortable="true" text="ÄÆ¡n vá»‹" />
                <TableColumn fx:id="priceColumn" prefWidth="115" sortable="true" text="ÄÆ¡n giÃ¡" />
                <TableColumn fx:id="lastUpdatedColumn" prefWidth="259" sortable="true" text="Cáº­p nháº­t láº§n cuá»‘i" />
            </columns>

            <placeholder>
                <VBox alignment="CENTER" spacing="10">
                    <padding>
                        <Insets bottom="40" left="40" right="40" top="40" />
                    </padding>
                    <Label text="KhÃ´ng tÃ¬m tháº¥y sáº£n pháº©m" />
                    <Label text="Thá»­ Ä‘iá»u chá»‰nh bá»™ lá»c cá»§a báº¡n" />
                </VBox>
            </placeholder>
        </TableView>
    </center>

    <right>
        <ScrollPane fitToWidth="true" prefWidth="380.0" styleClass="scroll-pane">
            <VBox spacing="16.0" BorderPane.alignment="CENTER">
                <padding>
                    <Insets bottom="24.0" left="24.0" right="24.0" top="24.0" />
                </padding>

                <!-- BASIC INFORMATION -->
                <TitledPane expanded="true" styleClass="titled-pane" text="ðŸ“ CHI TIáº¾T Sáº¢N PHáº¨M">
                    <VBox spacing="10.0">
                        <padding>
                            <Insets bottom="15" left="15" right="15" top="15" />
                        </padding>
                        <Label fx:id="itemName" style="-fx-font-size: 16px; -fx-font-weight: bold;" text="TÃªn sáº£n pháº©m" />
                        <Separator />
                        <GridPane hgap="10.0" vgap="8.0">
                            <columnConstraints>
                                <ColumnConstraints percentWidth="40" />
                                <ColumnConstraints percentWidth="60" />
                            </columnConstraints>

                            <Label styleClass="form-label" text="SKU:" GridPane.columnIndex="0" GridPane.rowIndex="0" />
                            <Label fx:id="quickSku" text="-" GridPane.columnIndex="1" GridPane.rowIndex="0" />

                            <Label styleClass="form-label" text="Danh má»¥c:" GridPane.columnIndex="0" GridPane.rowIndex="1" />
                            <Label fx:id="quickCategory" text="-" GridPane.columnIndex="1" GridPane.rowIndex="1" />

                            <Label styleClass="form-label" text="Tráº¡ng thÃ¡i:" GridPane.columnIndex="0" GridPane.rowIndex="2" />
                            <Label fx:id="quickStatus" text="-" GridPane.columnIndex="1" GridPane.rowIndex="2" />
                        </GridPane>
                    </VBox>
                </TitledPane>

                <!-- PRICING INFORMATION -->
                <TitledPane expanded="true" styleClass="titled-pane" text="ðŸ’° THÃ”NG TIN GIÃ">
                    <GridPane hgap="10.0" vgap="8.0">
                        <padding>
                            <Insets bottom="15" left="15" right="15" top="15" />
                        </padding>
                        <columnConstraints>
                            <ColumnConstraints percentWidth="45" />
                            <ColumnConstraints percentWidth="55" />
                        </columnConstraints>

                        <Label styleClass="form-label" text="ÄÆ¡n giÃ¡:" GridPane.columnIndex="0" GridPane.rowIndex="0" />
                        <Label fx:id="quickPrice" text="-" GridPane.columnIndex="1" GridPane.rowIndex="0" />

                        <Label styleClass="form-label" text="GiÃ¡ vá»‘n:" GridPane.columnIndex="0" GridPane.rowIndex="1" />
                        <Label fx:id="quickCostPrice" text="-" GridPane.columnIndex="1" GridPane.rowIndex="1" />
                    </GridPane>
                </TitledPane>

                <!-- STOCK INFORMATION -->
                <TitledPane expanded="true" styleClass="titled-pane" text="ðŸ“¦ THÃ”NG TIN Tá»’N KHO">
                    <GridPane hgap="10.0" vgap="8.0">
                        <padding>
                            <Insets bottom="15" left="15" right="15" top="15" />
                        </padding>
                        <columnConstraints>
                            <ColumnConstraints percentWidth="45" />
                            <ColumnConstraints percentWidth="55" />
                        </columnConstraints>

                        <Label styleClass="form-label" text="Sá»‘ lÆ°á»£ng:" GridPane.columnIndex="0" GridPane.rowIndex="0" />
                        <Label fx:id="quickQuantity" text="-" GridPane.columnIndex="1" GridPane.rowIndex="0" />

                        <Label styleClass="form-label" text="ÄÆ¡n vá»‹:" GridPane.columnIndex="0" GridPane.rowIndex="1" />
                        <Label fx:id="quickUnit" text="-" GridPane.columnIndex="1" GridPane.rowIndex="1" />
                    </GridPane>
                </TitledPane>

                <!-- ADDITIONAL DETAILS -->
                <TitledPane expanded="false" styleClass="titled-pane" text="THÃ”NG TIN Bá»” SUNG">
                    <GridPane hgap="10.0" vgap="8.0">
                        <padding>
                            <Insets bottom="15" left="15" right="15" top="15" />
                        </padding>
                        <columnConstraints>
                            <ColumnConstraints percentWidth="45" />
                            <ColumnConstraints percentWidth="55" />
                        </columnConstraints>

                        <Label styleClass="form-label" text="Batch No:" GridPane.columnIndex="0" GridPane.rowIndex="0" />
                        <Label fx:id="quickBatchNumber" text="-" GridPane.columnIndex="1" GridPane.rowIndex="0" />

                        <Label styleClass="form-label" text="Háº¡n dÃ¹ng:" GridPane.columnIndex="0" GridPane.rowIndex="1" />
                        <Label fx:id="quickExpiryDate" text="-" GridPane.columnIndex="1" GridPane.rowIndex="1" />

                        <Label styleClass="form-label" text="Serial No:" GridPane.columnIndex="0" GridPane.rowIndex="2" />
                        <Label fx:id="quickserialNo" text="-" GridPane.columnIndex="1" GridPane.rowIndex="2" />

                        <Label styleClass="form-label" text="NgÃ y táº¡o:" GridPane.columnIndex="0" GridPane.rowIndex="3" />
                        <Label fx:id="quickCreatedAt" text="-" GridPane.columnIndex="1" GridPane.rowIndex="3" />
                    </GridPane>
                </TitledPane>

                <!-- IMAGE -->
                <TitledPane expanded="false" styleClass="titled-pane" text="HÃŒNH áº¢NH">
                    <VBox alignment="CENTER">
                        <padding>
                            <Insets bottom="15" left="15" right="15" top="15" />
                        </padding>
                        <ImageView fx:id="itemImage" fitHeight="240.0" fitWidth="320.0" pickOnBounds="true" preserveRatio="true" />
                    </VBox>
                </TitledPane>

                <!-- NOTES -->
                <TitledPane expanded="true" styleClass="titled-pane" text="ðŸ“ GHI CHÃš">
                    <VBox>
                        <padding>
                            <Insets bottom="15" left="15" right="15" top="15" />
                        </padding>
                        <TextArea fx:id="itemDescription" prefRowCount="4" promptText="ThÃ´ng tin vÃ  ghi chÃº bá»• sung..." styleClass="text-area" wrapText="true" />
                    </VBox>
                </TitledPane>
            </VBox>
        </ScrollPane>
    </right>

    <bottom>
        <VBox>
            <Separator />
            <HBox alignment="CENTER_LEFT" spacing="15" styleClass="financial-header">
                <padding>
                    <Insets bottom="12" left="24" right="24" top="12" />
                </padding>
                <Label fx:id="messageLabel" styleClass="form-label" text="Sáºµn sÃ ng" />
                <Region HBox.hgrow="ALWAYS" />
                <ProgressIndicator fx:id="loadingIndicator" prefHeight="18.0" prefWidth="18.0" visible="false" />
            </HBox>
        </VBox>
    </bottom>

</BorderPane>
