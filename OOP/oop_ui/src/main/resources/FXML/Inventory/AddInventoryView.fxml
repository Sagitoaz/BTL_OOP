<?xml version="1.0" encoding="UTF-8"?>
<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.collections.FXCollections?>
<?import java.lang.String?>

<BorderPane prefWidth="980.0" prefHeight="640.0"
            xmlns="http://javafx.com/javafx"
            xmlns:fx="http://javafx.com/fxml/1"
            fx:controller="org.example.oop.Control.Inventory.AddInventoryController">

    <!-- HEADER -->
    <top>
        <VBox spacing="6">
            <padding><Insets top="12" right="16" bottom="8" left="16"/></padding>
            <Label text="Products › Add" style="-fx-font-size: 18px; -fx-font-weight: bold;"/>
            <Separator/>
        </VBox>
    </top>

    <!-- BODY: 2 CỘT -->
    <center>
        <ScrollPane fitToWidth="true">
            <content>
                <HBox spacing="16">
                    <padding><Insets top="12" right="16" bottom="80" left="16"/></padding>

                    <!-- CỘT TRÁI: Identity + Pricing + Stock -->
                    <VBox spacing="12" HBox.hgrow="ALWAYS">
                        <TitledPane text="Identity" expanded="true">
                            <content>
                                <GridPane hgap="10" vgap="10">
                                    <columnConstraints>
                                        <ColumnConstraints prefWidth="160"/>
                                        <ColumnConstraints hgrow="ALWAYS"/>
                                    </columnConstraints>

                                    <Label text="SKU:" GridPane.rowIndex="0"/>
                                    <TextField fx:id="tfSku" promptText="Mã hàng duy nhất"
                                               GridPane.columnIndex="1" GridPane.rowIndex="0"/>

                                    <Label text="Name:" GridPane.rowIndex="1"/>
                                    <TextField fx:id="tfName" promptText="Tên hiển thị"
                                               GridPane.columnIndex="1" GridPane.rowIndex="1"/>

                                    <Label text="Category:" GridPane.rowIndex="2"/>
                                    <ComboBox fx:id="cbCategory" prefWidth="220"
                                              GridPane.columnIndex="1" GridPane.rowIndex="2">
                                        <items>
                                            <FXCollections fx:factory="observableArrayList">
                                                <String fx:value="frame"/>
                                                <String fx:value="lens"/>
                                                <String fx:value="contact_lens"/>
                                                <String fx:value="machine"/>
                                                <String fx:value="consumable"/>
                                                <String fx:value="service"/>
                                            </FXCollections>
                                        </items>
                                    </ComboBox>

                                    <Label text="Unit:" GridPane.rowIndex="3"/>
                                    <TextField fx:id="tfUnit" promptText="chiếc, hộp, dịch vụ..."
                                               GridPane.columnIndex="1" GridPane.rowIndex="3"/>
                                </GridPane>
                            </content>
                        </TitledPane>

                        <TitledPane text="Pricing" expanded="true">
                            <content>
                                <GridPane hgap="10" vgap="10">
                                    <columnConstraints>
                                        <ColumnConstraints prefWidth="160"/>
                                        <ColumnConstraints hgrow="ALWAYS"/>
                                    </columnConstraints>

                                    <Label text="Price Cost:" GridPane.rowIndex="0"/>
                                    <TextField fx:id="tfPriceCost" promptText="Giá nhập (int)"
                                               GridPane.columnIndex="1" GridPane.rowIndex="0"/>

                                    <Label text="Price Retail:" GridPane.rowIndex="1"/>
                                    <TextField fx:id="tfPriceRetail" promptText="Giá bán lẻ (int)"
                                               GridPane.columnIndex="1" GridPane.rowIndex="1"/>
                                </GridPane>
                            </content>
                        </TitledPane>

                        <TitledPane text="Stock" expanded="true">
                            <content>
                                <GridPane hgap="10" vgap="10">
                                    <columnConstraints>
                                        <ColumnConstraints prefWidth="160"/>
                                        <ColumnConstraints hgrow="ALWAYS"/>
                                    </columnConstraints>

                                    <Label text="Qty On Hand:" GridPane.rowIndex="0"/>
                                    <TextField fx:id="tfQtyOnHand" promptText="Số lượng tồn (int)"
                                               GridPane.columnIndex="1" GridPane.rowIndex="0"/>
                                </GridPane>
                            </content>
                        </TitledPane>
                    </VBox>

                    <!-- CỘT PHẢI: Batch/Expiry/Serial + Note + Status -->
                    <VBox spacing="12" prefWidth="320">
                        <TitledPane text="Batch / Expiry / Serial" expanded="true">
                            <content>
                                <GridPane hgap="10" vgap="10">
                                    <columnConstraints>
                                        <ColumnConstraints prefWidth="120"/>
                                        <ColumnConstraints hgrow="ALWAYS"/>
                                    </columnConstraints>

                                    <Label text="Batch No:" GridPane.rowIndex="0"/>
                                    <TextField fx:id="tfBatchNo"
                                               promptText="để trống nếu không quản lý"
                                               GridPane.columnIndex="1" GridPane.rowIndex="0"/>

                                    <Label text="Expiry Date:" GridPane.rowIndex="1"/>
                                    <DatePicker fx:id="dpExpiryDate"
                                                GridPane.columnIndex="1" GridPane.rowIndex="1"/>

                                    <Label text="Serial No:" GridPane.rowIndex="2"/>
                                    <TextField fx:id="tfSerialNo"
                                               GridPane.columnIndex="1" GridPane.rowIndex="2"/>
                                </GridPane>
                            </content>
                        </TitledPane>

                        <TitledPane text="Note" expanded="false">
                            <content>
                                <TextArea fx:id="taNote" prefRowCount="4" promptText="Ghi chú"/>
                            </content>
                        </TitledPane>

                        <TitledPane text="Status &amp; Meta" expanded="true">
                            <content>
                                <GridPane hgap="10" vgap="10">
                                    <columnConstraints>
                                        <ColumnConstraints prefWidth="120"/>
                                        <ColumnConstraints hgrow="ALWAYS"/>
                                    </columnConstraints>

                                    <Label text="Active:" GridPane.rowIndex="0"/>
                                    <CheckBox fx:id="chkActive" selected="true"
                                              GridPane.columnIndex="1" GridPane.rowIndex="0"/>

                                    <Label text="ID:" GridPane.rowIndex="1"/>
                                    <TextField fx:id="tfId" editable="false" promptText="(auto)"
                                               GridPane.columnIndex="1" GridPane.rowIndex="1"/>

                                    <Label text="Created At:" GridPane.rowIndex="2"/>
                                    <TextField fx:id="tfCreatedAt" editable="false" promptText="auto"
                                               GridPane.columnIndex="1" GridPane.rowIndex="2"/>
                                </GridPane>
                            </content>
                        </TitledPane>
                    </VBox>
                </HBox>
            </content>
        </ScrollPane>
    </center>

    <!-- ACTION BAR (STICKY) -->
    <bottom>
        <HBox spacing="8" alignment="CENTER_RIGHT" style="-fx-background-color: -fx-base;">
            <padding><Insets top="8" right="16" bottom="12" left="16"/></padding>
            <Label fx:id="lblStatus" text="Ready" HBox.hgrow="ALWAYS"/>
            <Pane HBox.hgrow="ALWAYS"/>
            <Button fx:id="btnResetProduct" text="Reset"/>
            <Button fx:id="btnClose" text="Close"/>
            <Button fx:id="btnSaveProduct" text="Save Product" defaultButton="true"
                    style="-fx-font-weight: bold;"/>
        </HBox>
    </bottom>
</BorderPane>
