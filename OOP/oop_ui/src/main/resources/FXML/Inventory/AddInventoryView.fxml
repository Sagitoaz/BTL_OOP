<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.CheckBox?>
<?import javafx.scene.control.ComboBox?>
<?import javafx.scene.control.DatePicker?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.ScrollPane?>
<?import javafx.scene.control.Separator?>
<?import javafx.scene.control.TextArea?>
<?import javafx.scene.control.TextField?>
<?import javafx.scene.control.TitledPane?>
<?import javafx.scene.layout.BorderPane?>
<?import javafx.scene.layout.ColumnConstraints?>
<?import javafx.scene.layout.GridPane?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.Region?>
<?import javafx.scene.layout.RowConstraints?>
<?import javafx.scene.layout.VBox?>

<BorderPane prefHeight="800.0" prefWidth="1200.0" styleClass="main-container" stylesheets="@../../css/main.css,@../../css/forms.css,@../../css/buttons.css,@../../css/layouts.css,@../../css/financial-report.css,@../../css/navigation.css,@../../css/global-styles.css,@../../css/tables.css" xmlns="http://javafx.com/javafx/24.0.1" xmlns:fx="http://javafx.com/fxml/1" fx:controller="org.example.oop.Control.Inventory.AddInventoryController">

    <!-- HEADER -->
    <top>
        <VBox>
            <!-- Navigation Bar -->
            <HBox alignment="CENTER_LEFT" spacing="8" style="-fx-padding: 12px 20px;" styleClass="navigation-bar">
                <Button fx:id="backButton" styleClass="nav-button nav-back-button" text="â—€ Quay láº¡i" />
                <Button fx:id="forwardButton" styleClass="nav-button nav-forward-button" text="Tiáº¿n â–¶" />
                <Button fx:id="reloadButton" styleClass="nav-button nav-reload-button" text="âŸ³ Táº£i láº¡i" />
            </HBox>
            
            <HBox alignment="CENTER_LEFT" spacing="16.0" style="-fx-background-color: linear-gradient(to right, #0EA5E9, #0284C7); -fx-padding: 20px 24px; -fx-effect: dropshadow(gaussian, rgba(14,165,233,0.3), 15, 0, 0, 4);" styleClass="financial-header">
            <children>
                <Label style="-fx-text-fill: white; -fx-font-size: 24px; -fx-font-weight: 700; -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.15), 2, 0, 0, 1);" styleClass="page-title" text="THÃŠM Sáº¢N PHáº¨M Má»šI" />
                <Region HBox.hgrow="ALWAYS" />
                <Button fx:id="btnResetProduct" mnemonicParsing="false" styleClass="btn-secondary" text="ðŸ”„ LÃ m má»›i" />
                <Button fx:id="btnSaveProduct" defaultButton="true" mnemonicParsing="false" styleClass="btn-success" text="ðŸ’¾ LÆ°u sáº£n pháº©m" />
            </children>
        </HBox>
        </VBox>
    </top>

    <!-- BODY: 2 Cá»˜T CÃ‚N Báº°NG -->
    <center>
        <ScrollPane fitToWidth="true" styleClass="scroll-pane">
            <content>
                <GridPane hgap="24" vgap="20">
                    <padding>
                        <Insets bottom="24.0" left="24.0" right="24.0" top="24.0" />
                    </padding>
                    <columnConstraints>
                        <ColumnConstraints percentWidth="50.0" />
                        <ColumnConstraints percentWidth="50.0" />
                    </columnConstraints>
                    <rowConstraints>
                        <RowConstraints />
                    </rowConstraints>

                    <!-- Cá»˜T TRÃI: ThÃ´ng tin chÃ­nh -->
                    <VBox spacing="20.0" GridPane.columnIndex="0" GridPane.rowIndex="0">
                        <children>
                            <!-- 1. THÃ”NG TIN Sáº¢N PHáº¨M -->
                            <TitledPane expanded="true" style="-fx-background-color: white; -fx-border-color: #BAE6FD; -fx-border-width: 2px; -fx-border-radius: 12px;" text="ðŸ“‹ THÃ”NG TIN Sáº¢N PHáº¨M">
                                <content>
                                    <VBox spacing="18">
                                        <padding>
                                            <Insets bottom="20" left="20" right="20" top="20" />
                                        </padding>
                                        <children>
                                            <GridPane hgap="15" vgap="15">
                                                <columnConstraints>
                                                    <ColumnConstraints halignment="RIGHT" minWidth="130" prefWidth="130" />
                                                    <ColumnConstraints hgrow="ALWAYS" />
                                                </columnConstraints>

                                                <Label styleClass="form-label" text="MÃ£ SKU: *" GridPane.rowIndex="0" />
                                                <TextField fx:id="tfSku" promptText="VD: PROD-001" styleClass="text-field" GridPane.columnIndex="1" GridPane.rowIndex="0" />

                                                <Label styleClass="form-label" text="TÃªn sáº£n pháº©m: *" GridPane.rowIndex="1" />
                                                <TextField fx:id="tfName" promptText="Nháº­p tÃªn sáº£n pháº©m" styleClass="text-field" GridPane.columnIndex="1" GridPane.rowIndex="1" />

                                                <Label styleClass="form-label" text="Danh má»¥c: *" GridPane.rowIndex="2" />
                                                <ComboBox fx:id="cbCategory" maxWidth="Infinity" promptText="Chá»n danh má»¥c" styleClass="combo-rounded" GridPane.columnIndex="1" GridPane.rowIndex="2" />

                                                <Label styleClass="form-label" text="ÄÆ¡n vá»‹ tÃ­nh: *" GridPane.rowIndex="3" />
                                                <TextField fx:id="tfUnit" promptText="VD: chiáº¿c, há»™p, gÃ³i, dá»‹ch vá»¥..." styleClass="text-field" GridPane.columnIndex="1" GridPane.rowIndex="3" />
                                                <rowConstraints>
                                                    <RowConstraints />
                                                    <RowConstraints />
                                                    <RowConstraints />
                                                    <RowConstraints />
                                                </rowConstraints>
                                            </GridPane>
                                        </children>
                                    </VBox>
                                </content>
                            </TitledPane>

                            <!-- 2. GIÃ Cáº¢ -->
                            <TitledPane expanded="true" styleClass="titled-pane" text="ðŸ’° THÃ”NG TIN GIÃ">
                                <content>
                                    <VBox spacing="18">
                                        <padding>
                                            <Insets bottom="20" left="20" right="20" top="20" />
                                        </padding>
                                        <children>
                                            <GridPane hgap="15" vgap="15">
                                                <columnConstraints>
                                                    <ColumnConstraints halignment="RIGHT" minWidth="130" prefWidth="130" />
                                                    <ColumnConstraints hgrow="ALWAYS" />
                                                </columnConstraints>

                                                <Label styleClass="form-label" text="GiÃ¡ vá»‘n: *" GridPane.rowIndex="0" />
                                                <TextField fx:id="tfPriceCost" promptText="0 VNÄ" styleClass="text-field" GridPane.columnIndex="1" GridPane.rowIndex="0" />

                                                <Label styleClass="form-label" text="GiÃ¡ bÃ¡n láº»: *" GridPane.rowIndex="1" />
                                                <TextField fx:id="tfPriceRetail" promptText="0 VNÄ" styleClass="text-field" GridPane.columnIndex="1" GridPane.rowIndex="1" />
                                                <rowConstraints>
                                                    <RowConstraints />
                                                    <RowConstraints />
                                                </rowConstraints>
                                            </GridPane>
                                        </children>
                                    </VBox>
                                </content>
                            </TitledPane>

                            <!-- 3. Tá»’N KHO -->
                            <TitledPane expanded="true" styleClass="titled-pane" text="ðŸ“¦ QUáº¢N LÃ Tá»’N KHO">
                                <content>
                                    <VBox spacing="18">
                                        <padding>
                                            <Insets bottom="20" left="20" right="20" top="20" />
                                        </padding>
                                        <children>
                                            <GridPane hgap="15" vgap="15">
                                                <columnConstraints>
                                                    <ColumnConstraints halignment="RIGHT" minWidth="130" prefWidth="130" />
                                                    <ColumnConstraints hgrow="ALWAYS" />
                                                </columnConstraints>

                                                <Label styleClass="form-label" text="Sá»‘ lÆ°á»£ng hiá»‡n táº¡i: *" GridPane.rowIndex="0" />
                                                <TextField fx:id="tfQtyOnHand" promptText="Nháº­p sá»‘ lÆ°á»£ng (VD: 100)" styleClass="text-field" GridPane.columnIndex="1" GridPane.rowIndex="0" />
                                                <rowConstraints>
                                                    <RowConstraints />
                                                </rowConstraints>
                                            </GridPane>
                                        </children>
                                    </VBox>
                                </content>
                            </TitledPane>

                            <!-- 4. GHI CHÃš -->
                            <TitledPane expanded="true" styleClass="titled-pane" text="ðŸ“ GHI CHÃš THÃŠM">
                                <content>
                                    <VBox spacing="12">
                                        <padding>
                                            <Insets bottom="20" left="20" right="20" top="20" />
                                        </padding>
                                        <children>
                                            <Label styleClass="form-label" text="MÃ´ táº£ hoáº·c ghi chÃº vá» sáº£n pháº©m:" />
                                            <TextArea fx:id="taNote" prefRowCount="5" promptText="Nháº­p thÃ´ng tin bá»• sung, mÃ´ táº£ sáº£n pháº©m..." styleClass="text-area" wrapText="true" />
                                        </children>
                                    </VBox>
                                </content>
                            </TitledPane>
                        </children>
                    </VBox>

                    <!-- Cá»˜T PHáº¢I: ThÃ´ng tin bá»• sung -->
                    <VBox spacing="20.0" GridPane.columnIndex="1" GridPane.rowIndex="0">
                        <children>
                            <!-- 1. THÃ”NG TIN THEO DÃ•I -->
                            <TitledPane expanded="true" styleClass="titled-pane" text="ðŸ· THÃ”NG TIN THEO DÃ•I">
                                <content>
                                    <VBox spacing="18">
                                        <padding>
                                            <Insets bottom="20" left="20" right="20" top="20" />
                                        </padding>
                                        <children>
                                            <GridPane hgap="15" vgap="15">
                                                <columnConstraints>
                                                    <ColumnConstraints halignment="RIGHT" minWidth="120" prefWidth="120" />
                                                    <ColumnConstraints hgrow="ALWAYS" />
                                                </columnConstraints>

                                                <Label styleClass="form-label" text="Batch Number:" GridPane.rowIndex="0" />
                                                <TextField fx:id="tfBatchNo" promptText="VD: BATCH-2024-001 (TÃ¹y chá»n)" styleClass="text-field" GridPane.columnIndex="1" GridPane.rowIndex="0" />

                                                <Label styleClass="form-label" text="Háº¡n sá»­ dá»¥ng:" GridPane.rowIndex="1" />
                                                <DatePicker fx:id="dpExpiryDate" maxWidth="Infinity" promptText="Chá»n ngÃ y háº¿t háº¡n (TÃ¹y chá»n)" style="-fx-background-color: white; -fx-border-color: transparent; -fx-border-width: 0;" GridPane.columnIndex="1" GridPane.rowIndex="1" />

                                                <Label styleClass="form-label" text="Serial Number:" GridPane.rowIndex="2" />
                                                <TextField fx:id="tfSerialNo" promptText="VD: SN-001 (TÃ¹y chá»n)" styleClass="text-field" GridPane.columnIndex="1" GridPane.rowIndex="2" />
                                                <rowConstraints>
                                                    <RowConstraints />
                                                    <RowConstraints />
                                                    <RowConstraints />
                                                </rowConstraints>
                                            </GridPane>
                                        </children>
                                    </VBox>
                                </content>
                            </TitledPane>

                            <!-- 2. TRáº NG THÃI & HOáº T Äá»˜NG -->
                            <TitledPane expanded="true" styleClass="titled-pane" text="âš™ TRáº NG THÃI &amp; CÃ€I Äáº¶T">
                                <content>
                                    <VBox spacing="18">
                                        <padding>
                                            <Insets bottom="20" left="20" right="20" top="20" />
                                        </padding>
                                        <children>
                                            <GridPane hgap="15" vgap="15">
                                                <columnConstraints>
                                                    <ColumnConstraints halignment="RIGHT" minWidth="120" prefWidth="120" />
                                                    <ColumnConstraints hgrow="ALWAYS" />
                                                </columnConstraints>

                                                <Label styleClass="form-label" text="Tráº¡ng thÃ¡i:" GridPane.rowIndex="0" />
                                                <CheckBox fx:id="chkActive" selected="true" text="Sáº£n pháº©m Ä‘ang hoáº¡t Ä‘á»™ng" GridPane.columnIndex="1" GridPane.rowIndex="0" />
                                                <rowConstraints>
                                                    <RowConstraints />
                                                </rowConstraints>
                                            </GridPane>
                                            <Separator />
                                            <Label style="-fx-font-weight: bold;" styleClass="form-label" text="ThÃ´ng tin há»‡ thá»‘ng (tá»± Ä‘á»™ng):" />
                                            <GridPane hgap="15" vgap="15">
                                                <columnConstraints>
                                                    <ColumnConstraints halignment="RIGHT" minWidth="120" prefWidth="120" />
                                                    <ColumnConstraints hgrow="ALWAYS" />
                                                </columnConstraints>

                                                <Label styleClass="form-label" text="ID sáº£n pháº©m:" GridPane.rowIndex="0" />
                                                <TextField fx:id="tfId" editable="false" promptText="(Tá»± Ä‘á»™ng táº¡o khi lÆ°u)" style="-fx-opacity: 0.7;" styleClass="text-field" GridPane.columnIndex="1" GridPane.rowIndex="0" />

                                                <Label styleClass="form-label" text="NgÃ y táº¡o:" GridPane.rowIndex="1" />
                                                <TextField fx:id="tfCreatedAt" editable="false" promptText="(Tá»± Ä‘á»™ng ghi nháº­n)" style="-fx-opacity: 0.7;" styleClass="text-field" GridPane.columnIndex="1" GridPane.rowIndex="1" />
                                                <rowConstraints>
                                                    <RowConstraints />
                                                    <RowConstraints />
                                                </rowConstraints>
                                            </GridPane>
                                        </children>
                                    </VBox>
                                </content>
                            </TitledPane>

                            <!-- 3. HÆ¯á»šNG DáºªN NHANH -->
                            <TitledPane expanded="false" styleClass="titled-pane" text="ðŸ’¡ HÆ¯á»šNG DáºªN NHANH">
                                <content>
                                    <VBox spacing="12">
                                        <padding>
                                            <Insets bottom="20" left="20" right="20" top="20" />
                                        </padding>
                                        <children>
                                            <Label style="-fx-font-size: 12px;" text="âœ“ CÃ¡c trÆ°á»ng cÃ³ dáº¥u (*) lÃ  báº¯t buá»™c" />
                                            <Label style="-fx-font-size: 12px;" text="âœ“ SKU pháº£i lÃ  duy nháº¥t trong há»‡ thá»‘ng" />
                                            <Label style="-fx-font-size: 12px;" text="âœ“ GiÃ¡ bÃ¡n láº» nÃªn lá»›n hÆ¡n giÃ¡ vá»‘n" />
                                            <Label style="-fx-font-size: 12px;" text="âœ“ Batch/Serial/Háº¡n dÃ¹ng lÃ  tÃ¹y chá»n" />
                                            <Label style="-fx-font-size: 12px;" text="âœ“ Nháº¥n 'LÆ°u' Ä‘á»ƒ thÃªm sáº£n pháº©m má»›i" />
                                            <Label style="-fx-font-size: 12px;" text="âœ“ Nháº¥n 'LÃ m má»›i' Ä‘á»ƒ xÃ³a táº¥t cáº£ dá»¯ liá»‡u" />
                                        </children>
                                    </VBox>
                                </content>
                            </TitledPane>
                        </children>
                    </VBox>
                </GridPane>
            </content>
        </ScrollPane>
    </center>

    <!-- ACTION BAR (STICKY) - Reduced size -->
    <bottom>
        <VBox>
            <Separator />
            <HBox alignment="CENTER_RIGHT" spacing="12" styleClass="hbox-actions">
                <Button fx:id="btnClose" mnemonicParsing="false" styleClass="btn-secondary" text="âœ• ÄÃ³ng" />
            </HBox>
        </VBox>
    </bottom>
</BorderPane>
