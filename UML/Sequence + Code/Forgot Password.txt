@startuml Forgot Password Flow
actor User
boundary UI
control Service
database DB
control "Mail Service" as Mail

User -> UI: Click Forgot Password Button
UI --> User: Show Forgot Password Form

User -> UI: Enter Email

alt Normal forgot password flow
    UI -> Service: Check Email
    Service -> DB: Check Email Exists
    DB --> Service: Return Result (200)

    alt Email Exists
        Service -> Mail: Send Reset Password Email
        Mail --> User: Receive Reset Password Email
        Service --> UI: 200 OK
        UI --> User: Show "Check your email" Message
    else Email Does Not Exist
        Service --> UI: 404 Email Not Found
        UI --> User: Show Invalid Email Message
    end
else Exception
    Service --> UI: 501 System Error
    UI --> User: Display Error Message
end

@enduml
